!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):"object"==typeof exports?exports.alchemist_common=n():t.alchemist_common=n()}(this,function(){return function(t){function n(o){if(r[o])return r[o].exports;var e=r[o]={exports:{},id:o,loaded:!1};return t[o].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){var o=r(1),e=r(2),u=r(3),a=r(4),i=r(5);t.exports=[e(),o(),u(),a(),i()]},function(t){t.exports=function(){return function(t){var n=function(t){return.04045>=t?t/12.92:Math.pow((t+.055)/1.055,2.4)},r=function(t){return.0031308>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055},o=function(t){for(var n,r,o,e,u=3,a=0,i=0,f=0;u>f;f++){n=1,r=1;for(var x=0;u>x;x++)o=x,e=u-x-1,c=f+x,c>=u&&(c-=u),n*=t[o][c],r*=t[e][c];a+=n,i-=r}return a+i},e=function(t){var n=[[],[],[]],r=1/o(t);return n[0][0]=r*(t[2][2]*t[1][1]-t[2][1]*t[1][2]),n[0][1]=-r*(t[2][2]*t[0][1]-t[2][1]*t[0][2]),n[0][2]=r*(t[1][2]*t[0][1]-t[1][1]*t[0][2]),n[1][0]=-r*(t[2][2]*t[1][0]-t[2][0]*t[1][2]),n[1][1]=r*(t[2][2]*t[0][0]-t[2][0]*t[0][2]),n[1][2]=-r*(t[1][2]*t[0][0]-t[1][0]*t[0][2]),n[2][0]=r*(t[2][1]*t[1][0]-t[2][0]*t[1][1]),n[2][1]=-r*(t[2][1]*t[0][0]-t[2][0]*t[0][1]),n[2][2]=r*(t[1][1]*t[0][0]-t[1][0]*t[0][1]),n},u=function(t,n,r,o){var u=[[t.x/t.y,n.x/n.y,r.x/r.y],[1,1,1],[(1-t.x-t.y)/t.y,(1-n.x-n.y)/n.y,(1-r.x-r.y)/r.y]],a=e(u),i=o.X*a[0][0]+o.Y*a[0][1]+o.Z*a[0][2],c=o.X*a[1][0]+o.Y*a[1][1]+o.Z*a[1][2],f=o.X*a[2][0]+o.Y*a[2][1]+o.Z*a[2][2];return u[0][0]*=i,u[0][1]*=c,u[0][2]*=f,u[1][0]*=i,u[1][1]*=c,u[1][2]*=f,u[2][0]*=i,u[2][1]*=c,u[2][2]*=f,u},a={x:.64,y:.33},i={x:.3,y:.6},f={x:.15,y:.06},x=u(a,i,f,t.white),m=e(x);return{name:"rgb",limits:{max:[255,255,255],min:[0,0,0]},to:{xyz:function(t,r,o){var e=n(t/255),u=n(r/255),a=n(o/255),i=e*x[0][0]+u*x[0][1]+a*x[0][2],c=e*x[1][0]+u*x[1][1]+a*x[1][2],f=e*x[2][0]+u*x[2][1]+a*x[2][2];return[i,c,f]}},from:{xyz:function(t,n,o){var e=255*r(t*m[0][0]+n*m[0][1]+o*m[0][2]),u=255*r(t*m[1][0]+n*m[1][1]+o*m[1][2]),a=255*r(t*m[2][0]+n*m[2][1]+o*m[2][2]);return[e,u,a]}}}}}},function(t){t.exports=function(){return{name:"xyz",to:{}}}},function(t){t.exports=function(){return{name:"hsl",limits:{max:[360,1,1],min:[0,0,0]},to:{rgb:function(t,n,r){var o,e,u,a,i;if(t/=360,0==n)return i=255*r,[i,i,i];e=.5>r?r*(1+n):r+n-r*n,o=2*r-e,a=[0,0,0];for(var c=0;3>c;c++)u=t+1/3*-(c-1),0>u&&u++,u>1&&u--,i=1>6*u?o+6*(e-o)*u:1>2*u?e:2>3*u?o+(e-o)*(2/3-u)*6:o,a[c]=255*i;return a}},from:{rgb:function(t,n,r){var o,e,u,a,i,c;return t/=255,n/=255,r/=255,a=Math.min(t,n,r),i=Math.max(t,n,r),c=i-a,i==a?o=0:t==i?o=(n-r)/c:n==i?o=2+(r-t)/c:r==i&&(o=4+(t-n)/c),o=Math.min(60*o,360),0>o&&(o+=360),u=(a+i)/2,e=i==a?0:.5>=u?c/(i+a):c/(2-i-a),[o,e,u]}}}}},function(t){t.exports=function(){return function(t){var n=216/24389,r=24389/27,o=8,e=t.white;return{name:"lab",to:{xyz:function(t,u,a){var i=(t+16)/116,c=.002*u+i,f=i-.005*a,x=c*c*c,m=f*f*f,p=x>n?x:(116*c-16)/r,s=t>o?Math.pow((t+16)/116,3):t/r,h=m>n?m:(116*f-16)/r,y=p*e.X,v=s*e.Y,l=h*e.Z;return[y,v,l]}},from:{xyz:function(t,o,u){var a=function(t){return t>n?Math.pow(t,1/3):(r*t+16)/116},i=a(t/e.X),c=a(o/e.Y),f=a(u/e.Z),x=116*c-16,m=500*(i-c),p=200*(c-f);return[x,m,p]}}}}}},function(t){t.exports=function(){return{name:"lchab",to:{lab:function(t,n,r){return a=n*Math.cos(r*Math.PI/180),b=n*Math.sin(r*Math.PI/180),[t,a,b]}},from:{lab:function(t,n,r){return C=Math.sqrt(n*n+r*r),H=180*Math.atan2(r,n)/Math.PI,H<0&&(LCHab.H+=360),[t,C,H]}}}}}])});